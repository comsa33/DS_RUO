---
title: "쿠버네티스: 로드 밸런서와 노드포트 이해하기"
datePublished: Sun Feb 18 2024 14:04:40 GMT+0000 (Coordinated Universal Time)
cuid: clsrkx81a00010ai3at650f38
slug: 7lg67ke64sk7yuw7iqkoidrozzrk5wg67c465w7isc7jmaioufuoutno2pro2kucdsnbttlbttlzjqula
tags: dns, kubernetes, devops, load-balancer, k8s, data-engineering, mlops, traffic-management, kubernetes-nodeport

---

쿠버네티스 환경에서 서비스에 외부 트래픽을 효과적으로 라우팅하는 것은 중요한 과제입니다. 이 글에서는 쿠버네티스의 두 가지 주요 서비스 유형인 로드 밸런서(LoadBalancer)와 노드포트(NodePort)에 대해 살펴보겠습니다.

## 노드포트(NodePort)란?

노드포트는 가장 기본적인 방법으로, 클러스터의 모든 노드에 동일한 포트를 열어 서비스에 접근할 수 있게 하는 방식입니다. 노드포트는 마치 집안에 있는 모든 문을 열어놓고, 집안에 있는 서비스에 접근하는 것과 비슷합니다. 예를 들어, 서비스가 8080 포트를 사용하고 있다면, 클러스터의 모든 노드 IP 주소와 함께 8080 포트를 사용하여 서비스에 접근할 수 있습니다.

### 비유로 설명하기

노드포트는 마을의 모든 집의 문을 열어놓고, 모든 사람이 집안에 있는 서비스를 이용할 수 있도록 하는 것과 같습니다. 집안의 서비스에 접근하려는 사람은 집의 주소와 함께 사용할 포트를 알아야 합니다.

### 장점과 단점

**장점:**

* 모든 노드에서 접근 가능.
    
* 클라우드 환경에 종속되지 않음.
    
* 추가 비용 없음.
    

**단점:**

* 포트 번호가 필요함.
    
* 보안상의 문제가 발생할 수 있음.
    
* 수동으로 트래픽 관리 필요.
    

## 로드 밸런서(LoadBalancer)란?

로드 밸런서는 클라우드 제공업체의 로드 밸런싱 기능을 활용하여 외부 트래픽을 서비스로 라우팅합니다. 로드 밸런서는 클러스터에 고유한 외부 IP 주소를 할당받아, 인터넷에서 직접 접근할 수 있게 해줍니다.

### 비유로 설명하기

로드 밸런서는 마을의 대문 앞에 경비원이 서 있는 것과 비슷합니다. 외부에서 들어오는 모든 사람은 경비원을 통해 집 안으로 들어갈 수 있습니다. 로드 밸런서는 트래픽을 받아서 집안의 서비스로 안전하게 분배합니다.

### 장점과 단점

**장점:**

* 자동 트래픽 분산.
    
* 고정된, 예측 가능한 IP 주소 제공.
    
* 고가용성과 확장성.
    

**단점:**

* 클라우드 제공업체에 종속적일 수 있음.
    
* 비용이 발생할 수 있음.
    
* 온-프레미스 환경에서 구현 복잡.
    

## DNS와의 결합

노드포트 또는 로드 밸런서와 함께 DNS(Domain Name System)를 사용하면, 사용자는 도메인 이름을 통해 쿠버네티스 서비스에 접근할 수 있습니다. DNS는 도메인 이름을 IP 주소로 변환하여, 트래픽을 올바른 서비스로 라우팅합니다.

### 로드 밸런서와 DNS

로드 밸런서는 외부 IP 주소를 할당받고, DNS 설정을 통해 도메인 이름을 이 IP 주소와 연결합니다. 예를 들어, [`www.service.com`](http://www.service.com) 도메인이 로드 밸런서의 IP 주소로 설정되면, 사용자는 도메인 이름을 통해 서비스에 접근할 수 있습니다.

## 결론

쿠버네티스에서 트래픽 관리는 서비스의 가용성과 성능에 직접적인 영향을 미칩니다. 노드포트는 간단하고 저렴하지만 수동 관리가 필요하고, 로드 밸런서는 자동 트래픽 분산과 예측 가능한 IP 주소를 제공하여 더 나은 확장성과 가용성을 제공합니다. DNS와 결합하면 사용자는 도메인 이름을 통해 쉽게 쿠버네티스 서비스에 접근할 수 있습니다. 서비스를 위해 쿠버네티스에서 로드 밸런서와 노드포트의 역할과 작동 방식에 대한 이해는 중요한 요소입니다. 적절한 선택은 서비스의 특성과 환경에 따라 다를 수 있으므로, 각각의 장단점을 고려하여 적합한 방식을 선택하는 것이 중요합니다. 향후 쿠버네티스 클러스터를 구축하거나 관리할 때 이러한 정보를 참고하여 최적의 구성을 선택하시기 바랍니다. 감사합니다.